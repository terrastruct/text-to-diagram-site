<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="463px" preserveAspectRatio="none" style="width:358px;height:463px;background:#FFFFFF;" version="1.1" viewBox="0 0 358 463" width="358px" zoomAndPan="magnify"><defs/><g><!--MD5=[3158f9966ed01317d9e0f28e57cb2143]
entity event--><g id="elem_event"><rect fill="#FFFFFF" height="36.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="109.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="119.5" y="30.5352">Published Event</text></g><!--MD5=[dfa047280af9cea53fa65502d3110237]
entity iotRule--><g id="elem_iotRule"><rect fill="#FFFFFF" height="131.1094" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="160" x="93.5" y="119"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="55" x="146" y="140.6016">«IoTRule»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="140" x="103.5" y="158.6016">Action Error Rule</text><image height="64" width="64" x="141.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFc0lEQVR4Xu1ba2hcRRTe+kDxieIPqVqTnZlNNViUIFGb3JmNtRLFP1pRUXxB1SqoqKj4wC3undnY/qql6J+qqAhqfZRatf4QFRSk1qhBUftDBBFKfFT7sHGbeM59ZOeeXZNskn12Pjgk957HzPl27p25Z+5NpRwcZo2+QnqRMlxNKTqzmPrNBuqpjlM9wwakzwb7dDpD9XUHJiY1/wdkYhoZz/ricuo/U4TtiHcwDok7nPXTF1P7ukFpvqJCspXFiMep/0wgdaYf/HeXxSvJQZBV1K8usAmA/9d7mt2UEMMenQsBF+a6TwbfXVay20Hu83x+F8hb1vmiyvMLqH/NQQhYQfVeIX3OXAgAv9VWkhuvfjV1eEJv+J2x3tP8PVtXF9SBgC8j/90q130c1SNA92lkM7Z8zZJjqb6mqAMBvwW+vviE6mLALLM2bqPuM0MdCPgx9OU/UF0M0L0Yt7F0qGsh1dcUiVkArkdlFnfYkvX5pXMk4OXIfxxGwSVUr4b46aD7I7L5meprjmqmQbhrv97zbM+RNMZUyBpxlRVjF7YX3wizWvTCuW8m48OMQ/1rDlyE0ESnkWHli3NpnEqQmq2Ulef/vbL0q8eyXeU6jqYxao+J1AKck6Vhz00pmo9anR1TWjymcuoIGg6B1zFcTltJgjtBiuRcJOwDtTZzCo3TVMA1PCS1Odlx8bk3JM6y7TzDrwfd75bdARj2D+Owxzu8p8UaGOpb4PyHEO8FT6cvs/2bHjD8b4bO/2kluN/z2f0BQb54g/y6O3AWoTFaHl6enQHJbSPJjpH/V1d7w2w5QJKrQP4mRIxkDeuhtm2LPpNJy9KdfmRwHT+K2rQ9IPFfAgKmWO62NQ55AnCFKHFa02Id1bUFcGFTViipVmB90GcWnURjtwRk/EQ3d3mfxm4JyPJC5mxlJ43dEpDlBIzjk1tZ6dwSXPK2IwH/WsnswVoBtUUon10rkyvD+CGo1Qlgm+DvBisxfNBJVJHgl79dhmXu2AaLol+0FAH9mp8Nj7vPw7T2Ch6XCOCv4bGnubESLMI0eGtoJx60zo8DOfdG/gkCZPgcscF7sqszbrNpAB17RJaG7/5lhfSJmEx0HBAQ2iWTxZK2dQxDXtxixZwkYCDfeaYVbx+OmNiu4YgqOHESKF/jaLA6PElAYG/YbWGyCZ8DWAZL2FkE4OaHTE6r4zLPr7DtGwb41b6KOrVXGnFd6XxlAhAwG1wjSyNmDyx4llMbm4DgRC51mDLiDlm6qW5LejQI0JFfow4VsYoT1+iymkuc2rIF3k19EMFur+YbpUmfT3UIfDwO/LXoxePeHD9B+bwQtYUyTH0aAouAWEaVZs/gVjZ2mtpXA9wjhOv9yqi++Bdpp2kJSIrPv4W/b8K9YgiIeQDX+DgNJhZAcElEa/+Hgh2fsI6IBdHyeE1MwA6cwqRVs59n+S6K/1N03GwEsI/jc1jUxLI5dPgl7LhMrgZnIvjyxUg49NlK+00TOP99ZNO8BFTCQD5zmpdnF8G9IVv22OuzG+MbHlaKqa+NliVgvuAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBVNcQOAIcAY4AR8ChTkC8gTHqGX4e1c8nsGwG7ewL2jN8K9U3BFjqjghAOYhvfmItvye38BhqOxssHeo6Hl+VIfuIE8rnN1DbxmAitUBpvt7uXCRj8Ct9Bh1/OqgQm8yyfr9zCX5PgD52CHyBGs/jCAq/NRB3y3BLHUeXvW2OUoTkc7Z/UyAYnj7/qAIR8yVIxLv/t5XWNFCG8WAbPHz1nW5nVSv4fcDbni/uwXeNaVstgeDzFp8N4gsRMMSfkDi06XcFIMGlAnrcJ8DPZKbbH3BwmDv+AzJDo7qajLItAAAAAElFTkSuQmCC" y="161.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="119" x="114" y="237.5781">[error if Kinesis fails]</text></g><!--MD5=[ae51edbe5bc688d979703964e260e3f1]
entity eventStream--><g id="elem_eventStream"><rect fill="#FFFFFF" height="131.1094" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="145" x="7" y="326"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="125" x="17" y="347.6016">«KinesisDataStreams»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="85" x="37" y="365.6016">IoT Events</text><image height="64" width="64" x="47.5" xlink:href="data:image/png;base64,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" y="368.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="59" x="50" y="444.5781">[2 shards]</text></g><!--MD5=[275c45f18562731097a0227970743da2]
entity errorQueue--><g id="elem_errorQueue"><rect fill="#FFFFFF" height="131.1094" rx="2.5" ry="2.5" style="stroke:#FF9900;stroke-width:0.5;" width="160" x="187.5" y="326"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="127" x="204" y="347.6016">«SimpleQueueService»</text><text fill="#000000" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacing" textLength="140" x="197.5" y="365.6016">Rule Error Queue</text><image height="64" width="64" x="235.5" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAKdElEQVR4XuWZeVSTVxrG778z7extZ5+2M+10qtZ9GVvbcWurdZ06VdGOHa3WDVzAfQGsO271tCpudenBva1VRFTEBTcEEYiyhRDWLCSBkASSQMIz772RVPkIhBD8J/ec9xz4vo/vu/d37/u8z72wnE7B4JHbKQS5b4Qgr/McEfIuc5HPo+s8KCgKus0XoeweCmWPUBT2CENRTx4LUNyLx0KU9F6I0t6LUNpnEcr+uRgqHn2XQM3jzaXQUGjfoui3DOUUureXi9C/s0KE4V8rUcGjfzgqB4TDOCACxoERqBoYiapBkTANWgXzYB6fw/IuxXurUU1R8/4aEdYha2HjMXQd7Dw+WI/aYetRN2wD6oZvgGP4RjhH8IhC/cgoYNQmsOyOLgCBCoFldZyNQIbAsjrMRiBDYA9fn4VAhiAABDIE9uAfMwWAQIXAZAQgkCEw2WszEMgQWCYHEMAQWMbfpyOQIQgAgQyBpb/6mQAQqBBY+iuf4WlCKBm4AqoxG6GdsQuGiGMwhB+BbkY0NHRNNTD8qUNg91+ZhvaGUDZxKyp3X4A9qwTNNmc97BmFMO2KR/mEbU8FAkv72zS0FwTVrGjYc0rd46st0qEq5hoMG7+DbslhaKfvEitBvyIGlVt+gOXUbTjUFe7n7elKGGh1tCcEAjAV/oZQNDYKNalyMQhHpQWGL2NRMmqdJB08aYJ24jaYDyaivtom3mG7mQ3duC3tAoHd+ysH4D8I6iWHUG+rhZM6b9gdj4I3FzerCZ4gcGFUD6FOHktCfW0d6mvsMK4+4XcIBOBT+AVC5xAY9l90zZhcBeUHqzxqQmsg8Oqg+/gLOFSu1DDvT/ArBJb6MgfQdgiVx2+4Ong5A/LeC5rUhLZA0NBqsKcV+B0CS3l5CtoKQbv5e9GxqrMpyKGBN9YEf0FQ0UBtd3LFt4xrTvoFAkt5aQraAkExZr3I0erUfGR3nSPRBH9DUA9YiVpKsXprLXRBW9sMgd19cTJ8htBhFqzZJXCarcgbvNKjMPobQvn4LUJoax8WQ/3WsjZBYMkEwFcIJYsPiuWoXn9SogntDcG0I86VCpHH2+QTWPJf/gefIBAAe1E5assMeEAVoClh5BCqKWeNJ28ijwbkLYTCvotgOnETtvsFHiGo3lkuKoODvq+mgfsKgd3hAHyAUDBlu5gB1YZTTQpjA4Sqc6niOXuBBqpFh5DXbZ5HCEqCpKVnavPV4m+qE2XNrgQjuUfeDAsO+myb2Z0/fwJfIGQPXgFt9Hk86BUqEcbHIeT0CUNtiU50lDenuQaWqzJhknRbTouoiI4X15ymGvdzdZpKFA1Y3mw6lNHmyXz4KsrHbvZ5A8VucwCtgJDRJQTyoCjIx2+CrNscqTA2AUEVHiMGZbqULlaEo8LiHmhDcxqrYY5Pg+XCffG7fsO3XmmCanAE9MF7YQjZC817q1oNgd360yfwBkLaq9NQuvEU6u117k7z8qfdFYfM12c2CyG761w4ycpWxaW6hTGP5/37EVAOiYS8x3x3OpjO3BXfUJKFblYY+yyGkYTw8f6gzgHL0SSoacDeQmC3/jgJ3kDQPLK5plvZKAiOhjJkN8x3csQ1FRmhxitBs/U0VGuOuyFYaEPjqDC3WB3q1JWw3lO4hZFvomwZSpR+FPUEBBPtKnmzJufBsPiwiAaTZN6X4PVKYDc5gBYgpPech3qHE1WUp09oAmmB6WaWmIUHvUPdEGQ0uOr7Cloi9W4I+gMJonPZ3ed5hkCD5mcCxuNJbmHUzN0nNlb1Vjt0q465DlXejaBtphPW2zkSYbTeyBYrQTN8rVcQ2I0//BctQcib8oXovHzqdokmFMzcKe4pJm+H/sg1mJNzRdQ8KBLXOYSS+fug3eZSbDk3TB58goJEjzcDiaIu6jvUpMhF1JUaXO+iZjx8BVrKd97KSf0ba4I+7IC4V0H3vBFGAaAlCHlTXSWPg2gsjIrpX4l7ik8fAbjzCICsUFznrWThAZES4h2DVng0S/n9l4lnDFRdngSgd7+LA9CE7BE/l4d9LRFGfegB1zs4AC+O11jS7z8WAJqDkMZToM6JyotpkupgTMwQ6ZFJKdBQIjPIIlen5YuOqNadEJqge5QCWd3mSsySG0Lnua4UOJbk1gT1nD0/pkDEUaELxYPCSYAdqCFdaVwdrElZ9A4n1MNWe3XQKgB4A6Hsy7NiAJUJ6cinWc+f8RWMVzJdM3HossQncGEso/xvEEYzaUWdwSwpkY0h1KkrUHMv3y2MhSPWwEoiWDxmwxOOsXJXvPh2za0c6BYcEOlgJSC8mclFenvazK7/bqIA0BKEZJptLQ2Uz3ZD4z9rDyaIEtmUWWqwzZmdZlMZtMEYm+IukVlc+EgP5O+GP7GLNJ6+I0RV3jvMo2MUEEgMq765SivT4e4PF0bT0esopgE33jt4gsCuEQBvIYh0IPOTS1qQN3kb7nefK9GEpiCULP9G9K+KUsgYe1eUw8bNQUao6vw9mOLvid+1a09KSqQEAkVR/xXQzN4NbfAelAxaKdGEliCwa7+dgNZC4MKY0X8JVDtikdYluFkIMppde/GPVthBdtdEqaPdeQ6aqG9FlO84B1NiprjX0Hgq5JMZag5CYb+lqPw6AaUfbmjaLHkBgV19gQD4ACFn0lbR0aJVRyTC+DiEirPJ4jmbQo2isP3IJIH06BhpsKWh+8WZIm9m0pumzFIDBB3ZZd64V/DoGFuAwK68EASfILw0GbZCLWxUolJopj1B4M5Rf+w6Mt8IlpwnNAWBCyM3SxWUy1wMJWbpEQRFz1DU0rfraDvM9aBZ29wMBHbl+SD4CkERtk/MQGFkjGTv0HglNBbGliA0rg6NIfBdJG/alTGS84TWQGCJz4+HrxCSabDVWcVwWKy433fBU4NQOHKN8AW2h8XI7zZPIoytgcASnxuPtkCQDQ0XJslE7u8ulcP2hiDvFQZbdqk4EywcvU4ijK2FwC4/Nw5thVC0+qhYjvrTt5FMg28vCLm0rbYkPXQJX3hMk8LYWggs4Tfj4A8ImsOXRccqqI6ndpjhdwi5/RajOsX1/0b9rjiJJvgKgQCMhV8gvEh2eWes6GBNTinS317kNwiK0WuF4vOm2xEn0YS2QGCXfs0B+AkCrYT8OdFwkkA5LDaUbT+Dex1n+Qwhqy/t7rj9JmvMN0RlSw9LNKGtENilX30Ef0OQDQlH1e0cMWN8A1RCbk/Wf6nXEHJHfC4OXJ1UXXgzXZVBPjRSogn+gMAucgDtAIH7hJxJW1D98NHBCDWrUiOO1oojYlAQEo28oE3Im7AJynl7UUo7R33MVdgf2/tbUuVQTNjcpCb4CwK78Mv/oD0hcNv8YHgkSredhiVT6R5ck81ZT4POh2rL98gdtsqjJvgTggDwNCA0HK+ldQ6GbOAy5ARthJL2Bsr5e8VKeEjX0juHSNKhvSGw+F+MEQCeJgR/VQd/QGDnCUAgQ2Dnf/4hAhkCi+MAAhgCi/vZvxHIENi5ZwlAAENgsc+ORiBDYLHPjEYgQ2BnnxmFQIbAzvx0FAIZAgEYiUCGwH74CQcQuBAIwAgEMoT/A8es6b2I0JkzAAAAAElFTkSuQmCC" y="368.9766"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="113" x="211" y="444.5781">[failed Rule actions]</text></g><!--MD5=[7172fd02db102a1c702b76066656fcd8]
link event to iotRule--><g id="link_event_iotRule"><path d="M173.5,43.16 C173.5,60.2 173.5,87.47 173.5,113.46 " fill="none" id="event-to-iotRule" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="173.5,118.64,177.5,109.64,173.5,113.64,169.5,109.64,173.5,118.64" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="83" x="174.5" y="85.6016">JSON message</text></g><!--MD5=[0836a6a2c01f955c407626b30b773b2e]
link iotRule to eventStream--><g id="link_iotRule_eventStream"><path d="M143.89,250.08 C133.49,272.75 121.78,298.29 111.22,321.32 " fill="none" id="iotRule-to-eventStream" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="109.13,325.89,116.5204,319.3798,111.2162,321.346,109.25,316.0419,109.13,325.89" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="57" x="130.5" y="292.6016">messages</text></g><!--MD5=[70e21d8413dd48be739d39db94381f63]
link iotRule to errorQueue--><g id="link_iotRule_errorQueue"><path d="M203.11,250.08 C213.51,272.75 225.22,298.29 235.78,321.32 " fill="none" id="iotRule-to-errorQueue" style="stroke:#666666;stroke-width:1.0;"/><polygon fill="#666666" points="237.87,325.89,237.75,316.0419,235.7838,321.346,230.4796,319.3798,237.87,325.89" style="stroke:#666666;stroke-width:1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="127" x="223.5" y="292.6016">Failed action message</text></g><!--MD5=[fb2bd98bcc057f8b032114eebd042b73]
@startuml

!define AWSPuml https://raw.githubusercontent.com/awslabs/aws-icons-for-plantuml/v14.0/dist
!include AWSPuml/AWSCommon.puml
!include AWSPuml/InternetOfThings/IoTRule.puml
!include AWSPuml/Analytics/KinesisDataStreams.puml
!include AWSPuml/ApplicationIntegration/SimpleQueueService.puml

agent "Published Event" as event #fff

IoTRule(iotRule, "Action Error Rule", "error if Kinesis fails")
KinesisDataStreams(eventStream, "IoT Events", "2 shards")
SimpleQueueService(errorQueue, "Rule Error Queue", "failed Rule actions")

event - -> iotRule : JSON message
iotRule - -> eventStream : messages
iotRule - -> errorQueue : Failed action message

@enduml

@startuml






skinparam defaultTextAlignment center

skinparam PackageTitleAlignment Left

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}














sprite $IoTRule [64x64/16z] {
xTS5Wfqm483XSRd_XSiGjcdHXBhyAqy_NE7t2caBuH0HFlBy7Eq-iLnoklVSlS2NKN_xmIiloVwBaUaYDGtquBaUSUSbq_hZlFVC_kI5Z_JsH3FnbO_sn1wz
u1Bj_C9e6suChZ_RlHyCGFwm0YbxZcU3TRXDR2lMRQLlUj7vMFOn2TmsErHp8nYlkJwSwT3xDlykAHtuKlVr_Rv8_wNUN5yvv7spqxtFftmUYdalrDANFgbl
oDFUT46ySV49ZsRbeGr0YaDvLnpTwCktPxOEf3pMix7Trd61xNb3vIdQ4dd8Lz0yy4RAhwzyPCkHVgubeu_pCe0E-WmbsCUMEUghC1Lc8c8MjNftrBjudXKI
Onu0nU9hQum0exw5H5mHGMlIz_u4_-Vx__w__-_z-eADCctez6SCnzZ6Je2QbQiG8bI89EhZLwBaUPuHZ8LYHomuUIVBebQfCC7lsYS
}


skinparam rectangle<<IoTRule>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $KinesisDataStreams [64x64/16z] {
xPO7blGe38GB2HJg_WTU6yERZDUU_dD_dOFy2cK-c2TFBFWjeB_MlWY_XO9tQOraHV8cMaWw6czIk_HIygv-14cx7O50vORUFe5qtwL0azS8FmJ8Y66ngqVF
_ZBERa2nAneSDa9GWXlP2g0NBZ6ZPa0TxnH0qURn_mJ8OPOAgBFZLR1JH6jhPhxnrUKCPLY50gLExU5DfU25-fM20d5sqkI3zantjutW5sG3Iaj-rDwbHsPo
JVTwgPxpixUg1M-fNE5rIBT8JZ9swMr7rNX2sf0EKUtICtcLTAjl_OxIaVPu-_lwr_vRSnw_y5Qr9jDKv4qrdUPFplofJEs71sPRES_VzYf_7T2OTU7iBEl7
5QzgFqP7OFPKZBFwZJVrcrcGLJPes2bvfNyeAvpJFlglo_xLfjhPlo0S37ki-gT1fWgnSInLfQlIe2gey6N_pj6_VLvtXmRGiRCSZuekNb3VZCGtBEe_Fywl
2ZDBkcsGjh6mjtwsD_ymR4HWnpXUpkOtNmYeUmQg6upkhWX-XPGPoHSAkhqn3dkKQ_kB7_hLsj3lN2E5Rr189WvB4-Zb_KsW6NrkfK9kx8yAgBaVzV2Hy_m8
HKVZxlwSRkR9H_BaoNy
}


skinparam rectangle<<KinesisDataStreams>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}
sprite $SimpleQueueService [64x64/16z] {
xLQ5TWCn39FPxlz_y0fPsfVoUNjuQezbKl3mBzYnOqTbk4VM9kCqnW1RVciT192QHxWf0HnVnMRWDcOg89_du83L8eK2_g6vWXx4Ie9zQ2uF5I_-o851ddtY
3qf8S3tj3uIt8hwa9FYjzFQwE7yJdaRsh7NRUZnkY5vtknbUG3EKqzJK42_Lqxfg1OWT8G1eljONybH4tIWXWZEELrivZyKvGYVnd7FcaIseXVC82dOVVSoE
PyOKbO-EE1VEWWAVTKUDhgepAeu10_31cVaiqiUuA3C3RiXVpsRC1EYLyyVsKw-3RCt_o9S8XhxIpy23ym3wjlqcfzz_-lstFtxwuxS_VwmWl987t9q_c_Dt
S_tehb_zzRE_VlVt3_tzIt__rCUE7Jj-
}


skinparam rectangle<<SimpleQueueService>> {
    BackgroundColor #FFFFFF
    BorderColor #FF9900
}

agent "Published Event" as event #fff

rectangle "==Action Error Rule\n<img data:image/png;base64,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{scale=1}>\n//<size:12>[error if Kinesis fails]</size>//" <<IoTRule>> as iotRule
rectangle "==IoT Events\n<img data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAEZ0FNQQAAsY58+1GTAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAOxAAADsQBlSsOGwAADbpJREFUeNrlWwlUVNcZ/ubNAMPADDNssi/ihoiggihq3JdqYk4ST7QnMUljamqTtInZ0/bUtiepp208WWrTpCfN1jStxvYYE3OiiRU1cYkmKOKGgiCILDIDM8w+8/rf+5hxRgadARqgPng83p33/nfvd//l+//7Rvb0wuMiaJOxH1nXfzJ2xv6VBWiXQfqVzqXL+qNdeo7ULj2/p/bA/Qq9v+woQOTjh8h+xK7/RHbG/hUDtIuQfqVz6bL+aJeeI7VLz++pPXC/Qu8vOwoewTcqCIKv4BsRBOFqwTcaCEIgwTcSCEJPgm8UEIRrCb4RQBCuJ/j/HQQhGMGhgFAwNxrpY5RDBgQhWMHBgrD04URMXKgeMpoghCI4GBCcDhFyuWzImIMQquDrgWDpcEEdJx8yPkHojeBrgdBUZ8ewzIgh4xiF3gpm2+zvx2P+PYl+QptrrVBp5NDEK4YECEJfBKePjkTxIq2f0HPlZt7h/JnqIREihb4INuqdiNIqIJPDK/TstybomxyYdpsO4SrZoAdB6IvglnorLz6kjYr0CnW7Rex8twXRBMwtaxIHPVkS+iL41CETv2/CnBg/x1i+y4Dj+zpQSO3z74kf1CAIfRHcVGtB9bFOFC3QIjYpzA+ELRsu4nylGTOXx2HZ40mD1hzkxZmr1nnqZvDW4eCto3naE9MikJwdibYmu7f+xrbmOhtKlsQS/VXxmXe7petdDqCirB3xdF/BrBgUztag47ITLRQmvdtVz+jp2aG3exv9+hqoXV6Ucf+6YASX3pyAu57NwpdbW2G3ub0COlodfAYmzdchdWQkTnzVAZdLut1NR2YKLfV25E5RY8K8GIyboYbLKUJ/yQ6nXRxwEOTFGavWBSNYGS3HpLlxaL5gRX2VxU9wTUUnIiLlHISx0zSopXOTweWd5uZaGw5tN8DWKWJ4gQrjZ2ow9VYdknMiEBYhg7XTTZ+5BwQEeVH6/euCEcxmbOKcWIyapMGRz9tgt4p+gquOGNHe4iRV12LqLbFQxyrQcNYKm8XNBbBZrz1hwYFtBjSft0FQyDCqKBp506MJDC0K56l5FqlLViAympUpZLAYXf9zEGQPTtsrBlvLH1uixerfjiQNMOMvz57ls3x1zV43LBxL16RiHGkCGzQzgYPb9ThfYfZqhKeOH6aUY/h4FbLyIpFBe+pIJRRhMvhuDFTjZRf5DxcsJhc69W6SC5j0LoiEj6nN7dNX6R6TXoSh0RXUuoPswdK9YigLGiWLErDiiUwYDU5s3lCHEwc6AgpOHh6J2csTkD8jBnKabRORppMHjESUOlFz3IJOBt5VixnsvoT0CMSnhiM+PYwfY4hSR5M2qXVyMkMBwWxHPzdjxxsdwS2+rC7dI4a6qpNHmrDiySxo4sJQ9a0RO9+7hHPHTAFXdVRqOQehcJYWmXkq7wy3kmNsrLGhkcyk+YIdLbS3E4N0u3te0ZErBMTEKXi7ho4MWAZKRKTgo/Yy6Gn2L56xB7cC9cOpZWJvlraU5PTm3ZWM2Xcm8UE1URL09Y42VOwx4PIlR8ClLabyWQTCiMIozh5TRijJ3uX+Kt/qhIGAMDQ7YTW5udp3tLpgt4gwt7t4p61Gt+SDuvrEzKRLj0JehuMA9GV9j2lB8YJ4TFkcj4S0CP7ZpfNW0gwTqo+aSN07Ye5w+6HuuxapTQxHSo6SiFQ4YpPDoGNHIlVRWjnXnt5s5Ts78dnr7cGB8MCU3WJ/LXIOz1cjb2oMRk4kjz5K5e2QocWBBgqdl2qspCk2tJGGXL5o5zN8vQVO3bAwqKIViCBVV5G2RKgkP6BNDPM6Pc9gYhIk87hQaUfFbnNQmqDwUEnWwCkju4C8gigLvb26wkgzbuKCozRyjJqoQUZuFJKylFz180o1fjNl7nCR+jp4VmlsI9UnVTbR0emQvL9IiVU7qb+ZzKCJQqdbDG1irj8GQMHHL+s/EDyCO2lw5WV6HC0zeB2jWhdGtq/ioTKWZlZLRx3NZFK2kjiBImgVZ5pjNbu7tbNnWIlsHS/rxKFtpqD6KgxEUgLPX7FXJt7jbaLv3yD7quifGe/ezuyWscassZIJpI1UISpG0c0EmH9orLbizBEygWZHlwmIXSYgRQUm2Nh67RAZqD2Yvio8M9UfIGSPi8a4Ui1Gk+2nj47ycYJ21FR20kAt3AkyB9jWaKcQ13N0COwY+6+vnnYFP/ZBcIwuHJOJHZYuSURiurIrDFpQtqUJ5ygMVhNBMjNO3wMVjU9VkoZE8HuZZ2dhkYG0+x8t3J7Zee6UaKSNieSskG2MFzScseL0QbOkIX0AoSsKhI6uUqXAwpWpmLcihYiQwAe99c91KN+jpxm2BVBJEGNjZqGm6KDm9YOkTCVlg/70dvc/W/HZ203QxIbh5h8lYsJcLb/XRk7PZHDyaxhvKJitxvdWE+3dZcSu99vIRFy9AkHBHRSbjhBAyCM1X/nMSKKl4Tj9TTs+faeeOL4xoP2pY8JIQ+JRcJMOGWOivLHb0GzH6cNGyhgtPMS1klkw4Fx2IHt8FO7+eTpUGgXKd7Xj4Cd61J+2Sv6NvdhEe0ZuJIoXa1EwR42RRSpsWt+EukpryCAouMwQQChdMowP3qh3YONTJ1C533DFCflcnzNeg5tuS8T4GbGcKpuNThzeeRlnaNDnjnWS6toD5g6ZuSqsej6LU+DX1tbgwkmLv0+gPqi0CoyfpYbbJfIcIjEjHCt/lYy3n7tIpmELCYSuKCALCoT80jjc89wo1J0x4Y9rK2Fsd3Sb8YSUSCz7SRbGTdXydPjYXj0OfNrK6wVuUfRjYeFKxh6jkVOoRtnmFv6Mlb/MpBhPg3+sGrMom1z0g0S/SP/mM3UYPTkKk5do/UxHES7D8ueSsPGhOl546UUUuDYIcnrAikdzyKPb8MpjFTC1O7uxrckL47Fi7XBu1/s+asKOv13koc03TAlhwPhpWkyYHYsxJRqE07WnDnUQcXJiyQPJZPsK/PVn5ymhsgWI+FI895jRn35aS9mkDUWLYnDrI8OgjpVj+h06fP7u5d5GgZ5BGFusI08diXfXn4HR4LhSfekSvGhlGm5dnYnG82a885uzvGji6xNY6WvWsiQyi2E8gbJb3ajYZ8Dpr40cAAVNRekt8TyJOvV1Bxe+5eWGgCHSQ2o8pW1fXlG8RIPdf2+D09nrKBAYhNQRUlw/eVjfNQtXBE9fksQHX1XegY1PnqTBufx8QtHcONz+cCanwrWnOrH1tQs49qUBTpvoNYdc0gaW6Chpv/OJNHhqWptfrEdOfhQmLdDx8w9fvOgd8Jy74vmg49PC+fnxvUZuGlnjlTh7xNKXKNAdhMNfNONcRTtaGyxeGsvjeIoSKx7PoYGZsPHpSl4D9DwwTCmQwxzBi6mNNRa890I1zW67X4j05A6s5M629NEqvnu2TX+oR1xqOCbN13YB0oCWehuvKI8pib4y+8Q1jpVJAAzLCiefY+5rFPAHoelCJ+3mbpnWHQ9lQxDIOa07RUmKyzsoViV+5MVcHg32f9KMTS+d553uqSOswsO2JxeW81qfb3Q4uL0Nhz5t85pDdUUnfrH0ZDfG6OEU0bHy4KOApAGyoEC42jEyllY4Iw77tl3CpTqzn9rf94uRfPCbX67B7i2Xrprx7h1x2KTsrmh+LE+D2YcnDhphIefICqzKKEUXkwTZN3Biv5Gb0KT5MV4nK8gls3HYriRj140CzAfwz3oBQv7UWP7QgzuavZkWay+em4jCm+JQ9q9G/OfDxm4OM1BH9C3SitHyJzK8av3Sj8/AoVPg3nVZ3TK/Tb9vwDdfGLDs8ZRun7VT4hQsxVdIF/QOhOHjNHDY3Th3vN3rGNkTFt+XjjYKY5teqe7qyPXD0dlvjFI5q0yPr7a2SstuFyw88rCt7MMWnCKNiE+NwB2PphK5kgb7xlPnvdGh5GYd8mdoUHPUjGApvtCXN6y0CRHoaGNLXG5vzp1L4TIlW4UdH9TD5RCDric01pq5oxxRoPaGNm+/OBg2nC0n6lxl9qkn+L+uk52v4rS6qc4W9HuMCg+xYCsxoWpC1VEDpbkdkMxIQndMkfTGyOEvWvzag4nJ299qwKpfj8BDG0bxzm1Yc8ozRmSNVXFmySpJPrQIq3/nbx5bX21EKOxW4UGyNyB89GaN/9ITNebkayhMWbhmBGP7vu1H97TRrueJU02lCW2NNnJ+cv7c4oWxfL8S9py8nYXJksWxyCSA2CrU8S+NXWNBUCB4owD6oAm+gnWJEaSC5m5kKVgQ3nvhHOX9Y5CdF42la9Kw7fV6rL+3ktrCvczSSlzjYpWFE6ucgig++LqTZgKjAcESu4BRoD9A0FCnzh51oLfVZkaRX330FO5cm4USSqMLZ+oooTJw+2dVJHZdynAlbro9AfnTYyihEnB4hx7/frWBp9KsX6GA0C0K9BUEVhxhkaEv1WZ2//vrq7H/4xYsuDsFhbN0nB/4bqxuWEWRY9cHzag9Yb5ScRJDA6ErG5T1GwhvPX+SSJElZAcYqL36uBGvP3uGL8OxGqM2IZybgKHVwaMBWy67whj9+xssCD1Ggd6CsO/jxm6Osa/FS6vFxU0g4NLWNfobDAjCQH5j67t4Gep67zYLGOCvrQ00CMJg+O7eQIIgDJYvMA4UCEJfhQ51EITB9lXW7xoEYbB8gXGgQBAgDs4vNX9XIPwXOv418V3HlzAAAAAASUVORK5CYII={scale=1}>\n//<size:12>[2 shards]</size>//" <<KinesisDataStreams>> as eventStream
rectangle "==Rule Error Queue\n<img data:image/png;base64,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{scale=1}>\n//<size:12>[failed Rule actions]</size>//" <<SimpleQueueService>> as errorQueue

event - -> iotRule : JSON message
iotRule - -> eventStream : messages
iotRule - -> errorQueue : Failed action message

@enduml

PlantUML version 1.2022.8(Sun Sep 25 02:00:33 PDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>